<!DOCTYPE html> 
<html> 
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>03_合成与影子DOM槽位</title> 
        <style> 
        </style>
    </head> 
    <body>
        <div>世纪虎</div>
        <div>影子DOM更节点</div>
        <script>
            /* 
                以下是可以容纳影子 DOM 的元素。
                 任何以有效名称创建的自定义元素（参见 HTML 规范中相关的定义）
                 <article>
                 <aside>
                 <blockquote>
                 <body>
                 <div>
                 <footer>
                 <h1>
                 <h2>
                 <h3>
                 <h4>
                 <h5>
                 <h6>
                 <header>
                 <main>
                 <nav>
                 <p>
                 <section>
                 <span>

                影子 DOM 是通过 attachShadow()方法创建并添加给有效 HTML 元素的。容纳影子 DOM 的元素
                    被称为影子宿主（shadow host）。影子 DOM 的根节点被称为影子根（shadow root）。
                创建影子DOM方法：
                    attachShadow()
                
                注意： attachShadow()方法需要一个shadowRootInit 对象，返回影子DOM的实例。shadowRootInit
                    对象必须包含一个 mode 属性，值为"open"或"closed"。对"open"影子 DOM的引用可以通过 shadowRoot
                    属性在 HTML 元素上获得，而对"closed"影子 DOM 的引用无法这样获取。
            */
            const fooEl = document.querySelectorAll('div')[1]
            fooEl.innerHTML = `
                <div class="fooChild" onclick="console.log('Handled outside:', event.target)">Foo</div>
            `; // 实际DOM
            fooEl.querySelector('.fooChild')
                .attachShadow({mode: 'open'})
                .innerHTML = `
                    <button onclick="console.log('Handled inside:', event.target)">Foo</button>
                ` // 影子DOM
            
            /* 
                Handled inside: <button onclick=​"console.log('Handled inside:​', event.target)​">​Foo​</button>​
                Handled outside: <div class=​"fooChild" onclick=​"console.log('Handled outside:​', event.target)​">​…​</div>​
            */
              
        </script>
    </body>
</html>