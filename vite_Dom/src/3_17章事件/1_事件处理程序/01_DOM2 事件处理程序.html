<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" title="我是link" href="./styleSheets.css">
        <title>DOM2 事件处理程序</title>
    </head>
    <body>
       <button  class="myBut" id="button" type="button">按钮</button>
        <script type="text/javascript">
            /* 
                主要两个方法
                    addEventListener()  // 添加事件处理程序
                    removeEventListener() // 删除事件处理程序   主要匿名处理程序无法删除 因为添加处理程序和删除处理程序不想等 相当于创建了两个函数
                // DOM0、DOM2、IE 的事件程序写法
                DOM0
                    element.事件类型(onclick) = 事件处理程序
                DOM2
                    element.addEventListener('click', 事件处理程序)
                IE
                    element.attachEvent('onclick', 事件处理程序)

                // 删除事件处理程序 除了IE其他都一样
                IE
                    element.detachEvent('onclick', attachEvent的事件处理程序)
            */

            const butEl = document.querySelector('.myBut');
            /* 
                第三个参数可以是一个option配置对象， 也可以是一个boolean值.
            */
            butEl.addEventListener('click', function() {
                console.log('冒泡阶段1' ,this.id); // this指向DOM本身
            }, { capture: false });
            butEl.addEventListener('click', function() {
                console.log('捕获阶段2' ,this.id); // this指向DOM本身
            }, { capture: true });

            butEl.addEventListener('click', function() {
                console.log('冒泡阶段3' ,this.id); // this指向DOM本身
            }, false);
            butEl.addEventListener('click', function() {
                console.log('捕获阶段4' ,this.id); // this指向DOM本身
            }, true);

            butEl.addEventListener('click', () => {
                console.log('id', this.id); // this 指向window
            }, false);

            butEl.addEventListener('click', () => {
                console.log('Hello World');
            }, false);

            /* 删除事件处理程序 列子 */
            butEl.addEventListener('click', (event) => {
                console.log('添加事件处理程序1:', event);
            }, false);
            butEl.removeEventListener('click', (event) => { // 无法删除
                console.log('删除事件处理程序1' ,event);
            });

            const handler = (event) => {
                console.log('是否删除事件处理程序:' ,event);
            };
            butEl.addEventListener('click', handler);
            butEl.removeEventListener('click', handler);
        </script>
    </body>
</html>